<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>HTW Demo</title>
</head>
<body>
  <h1>Hello HTW</h1>

  <form id="myForm">
    <label>
      Name:
      <input type="text" id="nameInput" name="name" required>
    </label>
    <br><br>
    <label>
      Other:
      <input type="text" id="otherInput" name="other">
    </label>
    <br><br>
    <button type="submit">Submit</button>
  </form>

  <p id="result"></p>

  <script>
    const form = document.getElementById('myForm');
    const result = document.getElementById('result');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const name = document.getElementById('nameInput').value;
      const other = document.getElementById('otherInput').value;

      const url = `https://c6ldanx8rl.execute-api.eu-west-1.amazonaws.com/default/reka-db-lamda?name=${encodeURIComponent(name)}&other=${encodeURIComponent(other)}`;

      try {
        const res = await fetch(url, { method: 'GET' });
        const text = await res.text();
        result.textContent = `Response: ${text}`;
      } catch (err) {
        console.error(err);
        result.textContent = 'Error calling API';
      }
    });
  </script>
</body>
</html>
